# Tiger-Demo说明

如果要快速搭建一个分布式异步调度系统，请下载tiger-demo，做适当更改即可.
### 1. 配置环境
tiger-demo在以下配置环境运行良好:

1)容器: tomcat 6.0以上;

2)zookeeper服务: zookeeper-3.3.6版本;

3)mysql: mysql-5.5.49 版本;

### 2. 个性化更改
1）数据源：配置在spring-db-config.xml，可替换c3p0DataSource;

2）orm层：demo项目用的是ibatis,如有不同，可改用其它orm框架;

3) 任务表结构：demo项目用的数据表结构是tables_mysql_tiger.sql，如需更改可以自定义（做适当的索引）。但建议不要更改表结构，demo的表结构已经能满足大部分的异步任务情况;

4) 日志输出：log4j.xml可以根据自己的需求定义,但请保证tiger框架日志(appender name="TIGER")的正常输出;

### 3. 任务性能tips
tiger本身的性能消耗可以忽略不计，主要是与任务表交互过程中的性能消耗，单日100w左右的任务处理量，2台tiger应用机器没啥压力(取决于任务业务处理的复杂度).以mysql为例:

1) 当未来1个月内的任务记录数  ***不会超过500w*** 条时，tables_mysql_tiger.sql的单表任务处理够用，只要做适当的 ***sql查询索引*** ，并对n日前（exm:n=7）处理完毕的历史任务进行迁移;

2) 如果1个月内的任务记录数会 ***超过500w*** ，建议对任务表做 ***分库分表*** 处理，并以 ***node*** 字段作为分库分表字段.分库分表后，建议每张任务表的记录数保持能保持在500w以内;
